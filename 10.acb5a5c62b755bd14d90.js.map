{"version":3,"sources":["webpack:///./src/app/modules/application-pipes.module.ts","webpack:///./src/app/modules/organization/setting/manage-feature/manage-feature.component.html","webpack:///./src/app/modules/organization/setting/manage-feature/manage-feature.component.ts","webpack:///./src/app/modules/organization/setting/setting.module.ts","webpack:///./src/app/modules/organization/setting/setting.routing.ts","webpack:///./src/app/modules/organization/setting/setting.service.ts","webpack:///./src/app/shared/pipes/constants-array.pipe.ts","webpack:///./src/app/shared/pipes/constants.pipe.ts"],"names":[],"mappings":"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","file":"10.acb5a5c62b755bd14d90.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { ConstantsPipe } from 'shared/pipes/constants.pipe';\nimport { ConstantsArrayPipe } from 'shared/pipes/constants-array.pipe';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    CommonModule\n  ],\n  declarations: [\n    ConstantsPipe,\n    ConstantsArrayPipe\n  ],\n  exports: [\n    ConstantsPipe,\n    ConstantsArrayPipe\n  ]\n})\nexport class ApplicationPipesModule { }\n","module.exports = \"<div class=\\\"animated fadeIn\\\">\\n\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-6\\\" *ngFor=\\\"let feature of featureList\\\">\\n\\n      <div class=\\\"card\\\">\\n\\n        <div class=\\\"card-header\\\">\\n          <h2 class=\\\"pull-left\\\">{{feature.name}}</h2>\\n          <div class=\\\"card-header-actions\\\">\\n            <button type=\\\"button\\\" *ngIf=\\\"feature.enabled\\\" class=\\\"btn btn-danger\\\" (click)=\\\"disableFeature(feature.entity_ids, feature.name)\\\" [disabled]=\\\"loading[feature.name]\\\">\\n              <span class=\\\"fa fa-spinner\\\" [ngClass]=\\\"{'fa-spin': loading[feature.name]}\\\" *ngIf=\\\"loading[feature.name]\\\"></span>\\n              &nbsp;Disable\\n            </button>\\n            <button type=\\\"button\\\" *ngIf=\\\"!feature.enabled\\\" class=\\\"btn btn-success\\\" (click)=\\\"enableFeature(feature.entity_ids, feature.name)\\\" [disabled]=\\\"loading[feature.name]\\\">\\n              <span class=\\\"fa fa-spinner\\\" [ngClass]=\\\"{'fa-spin': loading[feature.name]}\\\" *ngIf=\\\"loading[feature.name]\\\"></span>\\n              &nbsp;Enable\\n            </button>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"card-body\\\">\\n\\n          <dl *ngFor=\\\"let module of feature.modules\\\">\\n            <dt>{{module.name}}</dt>\\n\\n            <ul>\\n              <li *ngFor=\\\"let entity of module.entities\\\">\\n                {{entity.name}}\\n\\n                <ul>\\n                  <li *ngFor=\\\"let action of entity.actions\\\">{{action}}</li>\\n                </ul>\\n\\n              </li>\\n            </ul>\\n\\n          </dl>\\n\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n</div>\\n\\n<app-success-modal #successModal title=\\\"Success!\\\">\\n  <content>{{message}}</content>\\n</app-success-modal>\\n\\n<app-error-modal #errorModal title=\\\"Error!\\\">\\n  <content>{{message}}</content>\\n</app-error-modal>\"","import { Component, OnInit, ViewEncapsulation, ViewChild } from '@angular/core';\n\nimport { SettingService } from 'modules/organization/setting/setting.service'\n\nimport { SuccessModalComponent  } from 'shared/components/success-modal/success-modal.component';\nimport { ErrorModalComponent } from 'shared/components/error-modal/error-modal.component';\nimport { AccessControlService } from 'modules/access-control/access-control.service';\nimport { OrganizationService } from 'modules/organization/organization.service';\n\nclass Module {\n\n  name: string;\n  entities: Entity[] = [];\n}\n\nclass Entity {\n\n  name: string;\n  actions: string[] = [];\n}\n\nclass Feature {\n\n  name: string;\n  entity_ids: string[] = [];\n  modules: Module[] = [];\n  enabled: boolean = false;\n}\n\n@Component({\n  selector: 'app-manage-feature',\n  templateUrl: './manage-feature.component.html',\n  providers: [ SettingService, AccessControlService, OrganizationService ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ManageFeatureComponent implements OnInit {\n  @ViewChild('successModal') successModal: SuccessModalComponent;\n  @ViewChild('errorModal') errorModal: ErrorModalComponent;\n\n  featureList: Feature[];\n\n  loading: Array<boolean>;\n  message: string = '';\n\n  constructor(\n    private settingService: SettingService,\n    private accessControlService: AccessControlService,\n    private organizationService: OrganizationService\n  ) {\n\n    this.featureList = new Array<Feature>();\n    this.loading = [];\n  }\n\n  ngOnInit() {\n\n    this.__loadEntities();\n  }\n\n  private __getIndex(list, value, key) {\n\n    let index = -1;\n    for (const i in list) {\n\n      if (list[i][key] === value) {\n        index = parseInt(i, 10);\n        break;\n      }\n    }\n\n    return index;\n  }\n\n  private __loadEntities() {\n\n    this.accessControlService.getFeatureEntities()\n      .then(response => {\n\n        let i, j;\n\n        for (const row of response) {\n\n          i = this.__getIndex(this.featureList, row.feature, 'name');\n          if (i === -1) {\n\n            const feature = new Feature();\n            feature.name = row.feature;\n            this.loading[feature.name] = false;\n\n            this.featureList.push(feature);\n            i = this.featureList.length - 1;\n          }\n          this.featureList[i].entity_ids.push(row._id.toString());\n\n          j = this.__getIndex(this.featureList[i].modules, row.module, 'name');\n          if (j === -1) {\n\n            const module = new Module();\n            module.name = row.module;\n\n            this.featureList[i].modules.push(module);\n            j = this.featureList[i].modules.length - 1;\n          }\n\n          const entity = new Entity();\n          entity.name = row.entity;\n\n          for (const action of row.actions) {\n            entity.actions.push(action.title);\n          }\n\n          this.featureList[i].modules[j].entities.push(entity);\n        }\n\n        this.__loadOrganization();\n\n      }).catch(err => {\n\n        this.message = err.error.message.text;\n        this.errorModal.show();\n      });\n  }\n\n  private __loadOrganization() {\n\n    this.organizationService.getDetails()\n      .then(response => {\n\n        if (!response.features || !Array.isArray(response.features)) {\n          return;\n        }\n\n        const organization_features = response.features;\n        for (const feature of this.featureList) {\n          for (const entity_id of feature.entity_ids) {\n\n            if (organization_features.indexOf(entity_id) !== -1) {\n              feature.enabled = true;\n            }\n          }\n        }\n\n      }).catch(err => {\n\n        this.message = err.error.message.text;\n        this.errorModal.show();\n      });\n  }\n\n  disableFeature(entity_ids, name) {\n\n    this.loading[name] = true;\n    this.settingService.disableFeatures(entity_ids)\n      .then(response => {\n\n        this.loading[name] = false;\n        const index = this.__getIndex(this.featureList, name, 'name');\n        this.featureList[index].enabled = false;\n        this.message = response.message.text;\n        this.successModal.show();\n\n      }).catch(err => {\n\n        this.loading[name] = false;\n        this.message = err.error.message.text;\n        this.errorModal.show();\n      });\n  }\n\n  enableFeature(entity_ids, name) {\n\n    this.loading[name] = true;\n    this.settingService.enableFeatures(entity_ids)\n      .then(response => {\n\n        this.loading[name] = false;\n        const index = this.__getIndex(this.featureList, name, 'name');\n        this.featureList[index].enabled = true;\n        this.message = response.message.text;\n        this.successModal.show();\n\n      }).catch(err => {\n\n        this.loading[name] = false;\n        this.message = err.error.message.text;\n        this.errorModal.show();\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { SettingRoutingModule } from './setting.routing';\nimport { ApplicationComponentsModule } from 'modules/application-components.module';\nimport { ApplicationPipesModule } from 'modules/application-pipes.module';\nimport { ManageFeatureComponent } from './manage-feature/manage-feature.component';\n\n@NgModule({\n  imports: [\n    SettingRoutingModule,\n    FormsModule,\n    HttpClientModule,\n    CommonModule,\n    ApplicationComponentsModule,\n    ApplicationPipesModule\n  ],\n  declarations: [\n    ManageFeatureComponent\n  ],\n  providers: [\n  ]\n})\nexport class SettingModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthenticationGuard } from 'core/services/authentication.service';\nimport { AuthorizationGuard } from 'core/services/authorization.service';\nimport { ManageFeatureComponent } from './manage-feature/manage-feature.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    data: {\n      title: 'Setting'\n    },\n    children: [\n      {\n        path: '',\n        redirectTo: 'dashboard'\n      },\n      {\n        path: 'feature',\n        canActivate: [AuthenticationGuard, AuthorizationGuard],\n        data: {\n          title: 'Feature',\n          access: {\n            entity: 'organization:feature',\n            action: 'enable:put'\n          }\n        },\n        component: ManageFeatureComponent\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SettingRoutingModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Api } from 'core/services/api.service';\n\n@Injectable()\nexport class SettingService extends Api {\n\n  private _feature_base_url: string = '/organizations/features';\n\n  constructor(http: HttpClient) {\n\n    super(http);\n  }\n\n  enableFeatures(feature_ids: any) {\n\n    return this.put(this._feature_base_url + '/enable', { 'features': feature_ids })\n      .then(response => response);\n  }\n\n  disableFeatures(feature_ids: any) {\n\n    return this.delete(this._feature_base_url + '/disable', { 'features': feature_ids })\n      .then(response => response);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'constantsarray'\n})\nexport class ConstantsArrayPipe implements PipeTransform {\n\n  transform(value: any, args?: string): any {\n\n    value = Object.keys(value).map(function (key) {\n\n      if (!Number.isNaN(Number.parseInt(key))) {\n\n        if (value[value[key]] !== undefined) {\n          return key;\n        }\n\n      } else if (value[value[key]] === undefined) {\n        return value[key];\n      } else if (value[value[key]] === value[key]) {\n        return value[key];\n      }\n\n    }).filter(function (val) {\n      return val && val.length > 0;\n    });\n\n    return value;\n  }\n};\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as constants from 'config/locales/en.json';\n\n@Pipe({\n  name: 'constants'\n})\nexport class ConstantsPipe implements PipeTransform {\n\n  transform(value: any, args?: string): any {\n\n    value = args ? (args + '.' + value) : value;\n\n    const keys = value.split('.');\n    let constant = constants[keys[0]], text = '';\n\n    if (constant) {\n\n      for (let i = 1; i < keys.length; i++) {\n\n        constant = constant[keys[i]];\n        if (constant === undefined) {\n          break;\n        }\n      }\n\n      if (constant !== undefined) {\n        text = constant;\n      }\n    }\n\n    return text;\n  }\n};\n"],"sourceRoot":""}